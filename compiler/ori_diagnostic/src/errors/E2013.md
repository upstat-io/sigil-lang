# E2013: Provider Does Not Implement Capability

A capability provider doesn't implement the required trait.

## Example

```ori
type MockHttp = {}

@main () -> void = run(
    // Error: MockHttp doesn't implement Http
    with Http = MockHttp {} in
        fetch_data()
)
```

## Explanation

When you use `with Capability = Provider in expr`, the provider must implement
the capability trait. This error occurs when the provider type doesn't have
the required implementation.

## Common Causes

1. **Missing impl block:**
   ```ori
   type MockHttp = { responses: {str: str} }

   // Wrong - no impl
   with Http = MockHttp { responses: {} } in fetch()
   ```

2. **Incomplete implementation:**
   ```ori
   impl Http for MockHttp {
       @get (self, url: str) -> Result<str, Error> = ...
       // Missing: post, put, delete
   }
   ```

## Solutions

1. **Implement the capability trait:**
   ```ori
   type MockHttp = { responses: {str: str} }

   impl Http for MockHttp {
       @get (self, url: str) -> Result<str, Error> = run(
           match(self.responses[url],
               Some(response) -> Ok(response),
               None -> Err(Error { message: "Not found" })
           )
       )

       @post (self, url: str, body: str) -> Result<str, Error> = ...
       @put (self, url: str, body: str) -> Result<str, Error> = ...
       @delete (self, url: str) -> Result<str, Error> = ...
   }
   ```

2. **Use a pre-built mock:**
   ```ori
   use std.testing { MockHttp }

   @test_fetch tests @fetch_data () -> void = run(
       with Http = MockHttp { responses: {"api/users": "[]"} } in
           assert_ok(result: fetch_data())
   )
   ```

3. **Verify all trait methods are implemented:**
   ```ori
   trait Http {
       @get (self, url: str) -> Result<str, Error>
       @post (self, url: str, body: str) -> Result<str, Error>
       @put (self, url: str, body: str) -> Result<str, Error>
       @delete (self, url: str) -> Result<str, Error>
   }

   // All four methods must be implemented
   ```

## See Also

- E2012: Unknown capability
- E2014: Missing capability declaration
