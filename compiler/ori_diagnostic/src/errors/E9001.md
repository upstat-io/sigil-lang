# E9001: Internal Compiler Error

An unexpected condition occurred inside the compiler.

## Example

```
error[E9001]: internal compiler error
  |
  = note: this is a bug in the compiler
  = note: please report at https://github.com/ori-lang/ori/issues
  = note: message: unexpected None in type_of_expr
```

## Explanation

This error indicates a bug in the Ori compiler itself, not in your code.
The compiler reached a state that should be impossible according to its
internal invariants.

## What To Do

1. **Report the bug:**
   - Go to https://github.com/ori-lang/ori/issues
   - Include the full error message
   - Include a minimal code example that reproduces the issue
   - Include your Ori version (`ori --version`)

2. **Try a workaround:**
   - Simplify your code to isolate the issue
   - Try expressing the same logic differently
   - Check if the issue occurs in an earlier version

## Information to Include in Bug Report

```markdown
**Ori version:** (output of `ori --version`)

**Operating system:**

**Code that triggers the error:**
```ori
// Minimal example
```

**Full error output:**
```
// Paste the complete error message
```

**Expected behavior:**

**Additional context:**
```

## Common Causes

Internal errors typically occur due to:
- Unhandled edge cases in the compiler
- Inconsistent internal state after error recovery
- Missing validation in a code path
- Bugs in optimization passes

## Workarounds

While waiting for a fix:
- Try rewriting the problematic code differently
- Add explicit type annotations
- Break complex expressions into simpler parts
- Check if the issue is fixed in a newer version

## See Also

- E9002: Too many errors
