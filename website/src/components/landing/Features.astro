---
const features = [
  {
    title: 'Mandatory Verification',
    description: 'Every function requires tests or it doesn\'t compile. Contracts enforce invariants. The compiler refuses to produce code it can\'t verify.',
    icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>`,
  },
  {
    title: 'Dependency-Aware Integrity',
    description: 'Tests live in the dependency graph. Change a function and its tests run. Change a function and callers\' tests run too. Fast feedback on what matters.',
    icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/></svg>`,
  },
  {
    title: 'Explicit Effects',
    description: 'Capabilities declare what a function can do. No hidden side effects. Mocking is trivial. Tests are fast because everything is injectable.',
    icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>`,
  },
  {
    title: 'ARC-Safe by Design',
    description: 'Memory managed via ARC. No tracing GC, no borrow checker. Closures capture by value. No shared mutable references. Value semantics by default.',
    icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>`,
  },
];
---

<section class="features">
  <div class="features-inner">
    <h2 class="features-heading">The Four Pillars</h2>
    <div class="features-grid">
      {features.map(feature => (
        <div class="feature-card">
          <div class="feature-icon" set:html={feature.icon} />
          <h3 class="feature-title">{feature.title}</h3>
          <p class="feature-desc">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .features {
    padding: var(--space-16) 0;
  }

  .features-inner {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 var(--space-6);
  }

  .features-heading {
    text-align: center;
    margin-bottom: var(--space-12);
    font-size: var(--text-3xl);
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }

  .feature-card {
    padding: var(--space-6);
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: border-color var(--transition-normal);
  }

  .feature-card:hover {
    border-color: var(--color-border-hover);
  }

  .feature-icon {
    color: var(--color-accent);
    margin-bottom: var(--space-4);
  }

  .feature-title {
    font-size: var(--text-xl);
    margin-bottom: var(--space-2);
  }

  .feature-desc {
    color: var(--color-text-secondary);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
  }

  @media (max-width: 640px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
