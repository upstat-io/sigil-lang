---
import BaseLayout from './BaseLayout.astro';
import GuideSidebar from '../components/guide/GuideSidebar.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
---

<BaseLayout
  title={`${title} â€” Ori Guide`}
  description={description || `Learn about ${title} in Ori.`}
  keywords="Ori guide, tutorial, programming language"
  ogType="article"
>
  <div class="guide-layout">
    <GuideSidebar />
    <main class="guide-content">
      <article class="guide-article">
        <slot />
      </article>
    </main>
  </div>
</BaseLayout>

<style>
  .guide-layout {
    display: flex;
    min-height: calc(100vh - var(--header-height, 56px));
  }

  .guide-content {
    flex: 1;
    min-width: 0;
    padding: var(--space-8, 2rem) var(--space-8, 2rem);
    max-width: var(--max-width-narrow, 800px);
    margin: 0 auto;
  }

  .guide-article {
    line-height: var(--leading-relaxed, 1.65);
  }

  .guide-article :global(h1) {
    margin-bottom: var(--space-6, 1.5rem);
  }

  .guide-article :global(h2) {
    margin-top: var(--space-10, 2.5rem);
    margin-bottom: var(--space-4, 1rem);
    padding-bottom: var(--space-2, 0.5rem);
    border-bottom: 1px solid var(--color-border, #2a2b35);
  }

  .guide-article :global(h3) {
    margin-top: var(--space-8, 2rem);
    margin-bottom: var(--space-3, 0.75rem);
  }

  .guide-article :global(p) {
    margin-bottom: var(--space-4, 1rem);
  }

  .guide-article :global(ul) {
    margin-bottom: var(--space-4, 1rem);
    list-style-type: disc !important;
    list-style-position: outside;
    padding-left: var(--space-6, 1.5rem);
  }

  .guide-article :global(ol) {
    margin-bottom: var(--space-4, 1rem);
    list-style-type: decimal !important;
    list-style-position: outside;
    padding-left: var(--space-6, 1.5rem);
  }

  .guide-article :global(li) {
    display: list-item;
  }

  .guide-article :global(pre) {
    margin-bottom: var(--space-4, 1rem);
  }

  .guide-article :global(table) {
    margin-bottom: var(--space-4, 1rem);
    font-size: var(--text-sm, 0.875rem);
  }

  .guide-article :global(blockquote) {
    margin-bottom: var(--space-4, 1rem);
  }

  @media (max-width: 768px) {
    .guide-layout {
      flex-direction: column;
    }

    .guide-content {
      padding: var(--space-4, 1rem);
    }
  }
</style>
