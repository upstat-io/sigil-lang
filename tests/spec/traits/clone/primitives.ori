// Spec: 06-types.md § Clone Trait — Prelude Implementations
// Tests for Clone on all primitive types: int, float, bool, str, char, byte, Duration, Size

use std.testing { assert, assert_eq }

// int.clone()
@test_clone_int tests @clone_int () -> void = run(
    let x = 42,
    let y = x.clone(),
    assert_eq(actual: y, expected: 42),
)

@clone_int () -> int = 42.clone()

@test_clone_int_zero tests @clone_int_zero () -> void = run(
    assert_eq(actual: 0.clone(), expected: 0),
)

@clone_int_zero () -> int = 0.clone()

@test_clone_int_negative tests @clone_int_neg () -> void = run(
    assert_eq(actual: (-7).clone(), expected: -7),
)

@clone_int_neg () -> int = (-7).clone()

// float.clone()
@test_clone_float tests @clone_float () -> void = run(
    let x = 3.14,
    let y = x.clone(),
    assert_eq(actual: y, expected: 3.14),
)

@clone_float () -> float = 3.14.clone()

@test_clone_float_zero tests @clone_float_zero () -> void = run(
    assert_eq(actual: 0.0.clone(), expected: 0.0),
)

@clone_float_zero () -> float = 0.0.clone()

// bool.clone()
@test_clone_bool_true tests @clone_true () -> void = run(
    assert_eq(actual: true.clone(), expected: true),
)

@clone_true () -> bool = true.clone()

@test_clone_bool_false tests @clone_false () -> void = run(
    assert_eq(actual: false.clone(), expected: false),
)

@clone_false () -> bool = false.clone()

// str.clone()
@test_clone_str tests @clone_str () -> void = run(
    let s = "hello",
    let s2 = s.clone(),
    assert_eq(actual: s2, expected: "hello"),
)

@clone_str () -> str = "hello".clone()

@test_clone_str_empty tests @clone_str_empty () -> void = run(
    assert_eq(actual: "".clone(), expected: ""),
)

@clone_str_empty () -> str = "".clone()

// char.clone()
@test_clone_char tests @clone_char () -> void = run(
    let c = 'a',
    let c2 = c.clone(),
    assert_eq(actual: c2, expected: 'a'),
)

@clone_char () -> char = 'a'.clone()

// byte.clone()
@test_clone_byte tests @clone_byte () -> void = run(
    let b = 0xFF as byte,
    let b2 = b.clone(),
    // Compare via int conversion since byte == byte not yet supported
    assert_eq(actual: b2 as int, expected: 255),
)

@clone_byte () -> byte = (0xFF as byte).clone()

// Duration.clone() — already tested in duration_size_clone_printable.ori
// Verify basic case here for completeness
@test_clone_duration tests @clone_dur () -> void = run(
    let d = 100ms,
    let d2 = d.clone(),
    assert_eq(actual: d2, expected: 100ms),
)

@clone_dur () -> Duration = 100ms.clone()

// Size.clone()
@test_clone_size tests @clone_size () -> void = run(
    let s = 1kb,
    let s2 = s.clone(),
    assert_eq(actual: s2, expected: 1kb),
)

@clone_size () -> Size = 1kb.clone()

@main () -> void = run(
    print(msg: "Clone primitives tests passed"),
)
