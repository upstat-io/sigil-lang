// Spec: §3.16 Formattable Trait — Custom Fill Characters
// Tests for fill character support in format specs

use std.testing { assert_eq }

// =============================================================================
// Custom Fill with Alignment
// =============================================================================

@test_fill_right tests @fill_right () -> void = {
    assert_eq(actual: `{"hi":*>10}`, expected: "********hi");
    assert_eq(actual: `{"hi":->10}`, expected: "--------hi");
    assert_eq(actual: `{"hi":.>10}`, expected: "........hi")
}

@fill_right () -> str = `{"hi":*>10}`;

@test_fill_left tests @fill_left () -> void = {
    assert_eq(actual: `{"hi":*<10}`, expected: "hi********");
    assert_eq(actual: `{"hi":#<10}`, expected: "hi########")
}

@fill_left () -> str = `{"hi":*<10}`;

@test_fill_center tests @fill_center () -> void = {
    assert_eq(actual: `{"hi":*^10}`, expected: "****hi****");
    assert_eq(actual: `{"x":=^9}`, expected: "====x====")
}

@fill_center () -> str = `{"hi":*^10}`;

// =============================================================================
// Fill with Integer Formatting
// =============================================================================

@test_fill_int tests @fill_int () -> void = {
    assert_eq(actual: `{42:*>8}`, expected: "******42");
    assert_eq(actual: `{42:*<8}`, expected: "42******");
    assert_eq(actual: `{42:*^8}`, expected: "***42***")
}

@fill_int () -> str = `{42:*>8}`;

@main () -> void = print(msg: "Formattable fill tests");
