// Spec: const generics type checker support
// Tests that const generic parameters are tracked and validated by the type checker.
//
// STATUS: Parser [OK], Type Checker [OK for body-level const params]
// Const evaluation and call-site validation not yet implemented.

// =============================================================================
// Const Generic Parameters in Function Declarations
// =============================================================================

// Function with const generic parameter
@const_param<$N: int> () -> int = N;

// Function with const generic parameter and default value
@const_param_default<$N: int = 10> () -> int = N;

// Multiple const params
@multi_const<$A: int, $B: int> () -> int = A + B;

// Mixed type and const params
@mixed_params<T, $N: int> (x: T) -> T = x;

// Bool const param
@bool_param<$F: bool> () -> bool = F;

// Const param in arithmetic expression
@add_one<$N: int> () -> int = N + 1;

// =============================================================================
// Const Expressions in Type Arguments
// =============================================================================

// Integer literal in type argument position
#skip("const generics: Array type not yet implemented")
@int_type_arg () -> Array<int, 10> = [];

// Const param reference in type argument position
#skip("const generics: Array type not yet implemented")
@const_type_arg<$N: int> () -> Array<int, $N> = [];

// =============================================================================
// Fixed-Capacity Lists with Const Expressions
// =============================================================================

// Fixed list with integer literal capacity (existing syntax)
#skip("const generics: fixed-capacity lists not yet implemented (Section 18.2)")
@fixed_list_literal () -> [int, max 10] = [];

// Fixed list with const param capacity (new syntax)
#skip("const generics: fixed-capacity lists not yet implemented (Section 18.2)")
@fixed_list_const<$N: int> () -> [int, max $N] = [];

// =============================================================================
// Where Clause Const Bounds
// =============================================================================

// Const bound in where clause
#skip("const generics: const bounds not yet implemented (Section 18.5)")
@const_bound<$N: int> () -> int where N > 0 = N;

// Mixed type and const bounds
#skip("const generics: const bounds not yet implemented (Section 18.5)")
@mixed_bounds<T, $N: int> (x: T) -> T where T: Clone, N > 0 = x;
