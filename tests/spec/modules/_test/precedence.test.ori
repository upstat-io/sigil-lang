// Test that file modules take precedence over directory modules

use std.testing { assert_eq }
// When both ./precedence.ori and ./precedence/mod.ori exist,
// `use "./precedence"` should resolve to ./precedence.ori

use "../precedence" { source }

@test_file_takes_precedence tests @source () -> void = run(
    // Should get "file_module" from precedence.ori, not "directory_module" from precedence/mod.ori
    assert_eq(actual: source(), expected: "file_module")
)
