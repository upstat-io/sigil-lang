// 100 Doors - Rosetta Code Task
// https://rosettacode.org/wiki/100_doors
//
// After 100 passes, only doors at perfect square positions remain open.
// Solution: Perfect squares from 1 to 100

use std.testing { assert, assert_eq, assert_ne }

// Returns doors that remain open after 100 passes (perfect squares)
@open_doors () -> [int] = (1..11).map(transform: n -> n * n)

@test_perfect_squares tests @open_doors () -> void = {
    assert_eq(
        actual: open_doors(),
        expected: [1, 4, 9, 16, 25, 36, 49, 64, 81, 100],
    )
}

@test_count tests @open_doors () -> void = {
    assert_eq(actual: len(collection: open_doors()), expected: 10)
}
