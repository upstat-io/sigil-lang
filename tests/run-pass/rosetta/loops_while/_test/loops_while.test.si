// Tests for Loops/While

use '../loops_while' { countdown, next_power_of_2, find_power, collatz, sum_digits, gcd }

@test_countdown tests @countdown () -> void = run(
    assert_eq(.actual: countdown(5), .expected: [5, 4, 3, 2, 1]),
    assert_eq(.actual: countdown(0), .expected: []),
    assert_eq(.actual: countdown(1), .expected: [1])
)

@test_power_of_2 tests @next_power_of_2 () -> void = run(
    assert_eq(.actual: next_power_of_2(10), .expected: 16),
    assert_eq(.actual: next_power_of_2(16), .expected: 32),
    assert_eq(.actual: next_power_of_2(1), .expected: 2),
    assert_eq(.actual: next_power_of_2(0), .expected: 1)
)

@test_collatz tests @collatz () -> void = run(
    assert_eq(.actual: collatz(1), .expected: [1]),
    assert_eq(.actual: collatz(6), .expected: [6, 3, 10, 5, 16, 8, 4, 2, 1])
)

@test_sum_digits tests @sum_digits () -> void = run(
    assert_eq(.actual: sum_digits(12345), .expected: 15),
    assert_eq(.actual: sum_digits(0), .expected: 0),
    assert_eq(.actual: sum_digits(999), .expected: 27)
)

@test_gcd tests @gcd () -> void = run(
    assert_eq(.actual: gcd(.a: 48, .b: 18), .expected: 6),
    assert_eq(.actual: gcd(.a: 100, .b: 25), .expected: 25),
    assert_eq(.actual: gcd(.a: 17, .b: 13), .expected: 1)
)
